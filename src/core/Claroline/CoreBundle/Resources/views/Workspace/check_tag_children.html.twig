{% extends 'ClarolineCoreBundle::layout.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script src='{{ asset('bundles/clarolinecore/js/workspace/workspace_tag_hierarchy.js') }}' type="text/javascript"></script>
{% endblock %}

{% block content %}
    <ul class="breadcrumb">
        <li>
            <a href="{{ path('claro_workspace_by_user') }}">
                {{ 'all_my_workspaces'|trans({}, 'platform') }}
            </a>
        </li>
        <span class="divider"> / </span>
        <li>
            <a href="{{ path('claro_workspace_manage_tag') }}">
                {{ 'tags_management'|trans({}, 'platform') }}
            </a>
        </li>
        <span class="divider"> / </span>
        <li>
            <a href="{{ path('claro_workspace_organize_tag') }}">
                {{ 'tags_organization'|trans({}, 'platform') }}
            </a>
        </li>
        <span class="divider"> / </span>
        <li>
            <a href="#">{{ tag.getName() }}</a>
        </li>
    </ul>

    <h1>{{ 'tags_add_remove_children_to'|trans({}, 'platform') }} [{{ tag.getName() }}]</h1>
    <br>

    <div id="twig-tag-id" data-tag-id="{{ tag.getId() }}">
    </div>

    <div>
        <table class="table table-striped table-bordered table-condensed">
            <tr>
                <th>{{ 'tag_potential_children_list'|trans({}, 'platform') }}</th>
                <th>{{ 'tag_children_list'|trans({}, 'platform') }}</th>
            </tr>
            <tr>
                <td>
                    <div>
                        <ul id="possible-children-list">
                        {% for possibleChild in possibleChildren %}
                            <li>
                                <input type="checkbox" name="tag-possible-child" value="{{possibleChild.getId()}}">
                                {{ possibleChild.getName() }}
                            </li>
                        {% endfor %}
                        </ul>
                    </div>
                </td>
                <td>
                    <div>
                        <ul id="children-list">
                        {% for child in children %}
                            <li>
                                <input type="checkbox" name="tag-child" value="{{child.getId()}}" checked>
                                {{ child.getName() }}
                            </li>
                        {% endfor %}
                        </ul>
                    </div>
                </td>
            </tr>
        </table>
        <div>
            <button id="tag-hierarchy-children-button" type="submit" class="btn btn-primary">
                {{ 'ok'|trans({}, 'platform') }}
            </button>
            <a href="{{ path('claro_workspace_organize_tag') }}">
                <button type="button" class="btn">{{ 'cancel'|trans({}, 'platform') }}</button>
            </a>
        </div>
    </div>

{% endblock %}